{
  "endpoints": {
    "POST /api/email/send": {
      "description": "Send an email",
      "contentType": "application/json",
      "requiredFields": ["to", "subject", "text OR html"],
      "examples": {
        "simple_text_email": {
          "description": "Simple text-only email",
          "request": {
            "to": "recipient@example.com",
            "subject": "Hello from Email Service",
            "text": "This is a simple text email message."
          }
        },
        "html_email": {
          "description": "HTML email with text fallback",
          "request": {
            "to": "recipient@example.com",
            "subject": "Welcome to Our Service",
            "text": "Welcome to our service! Click the link below to get started.",
            "html": "<h1>Welcome to Our Service</h1><p>Click the <a href='https://example.com'>link</a> below to get started.</p>"
          }
        },
        "html_only_email": {
          "description": "HTML-only email (text is optional if html is provided)",
          "request": {
            "to": "recipient@example.com",
            "subject": "HTML Email",
            "html": "<html><body><h1>Hello</h1><p>This is an HTML email.</p></body></html>"
          }
        },
        "email_with_custom_from": {
          "description": "Email with custom sender address",
          "request": {
            "to": "recipient@example.com",
            "subject": "Email from Custom Sender",
            "text": "This email is sent from a custom sender address.",
            "from": "custom-sender@example.com"
          }
        },
        "email_with_cc": {
          "description": "Email with CC recipients",
          "request": {
            "to": "recipient@example.com",
            "subject": "Email with CC",
            "text": "This email has CC recipients.",
            "cc": ["cc1@example.com", "cc2@example.com"]
          }
        },
        "email_with_bcc": {
          "description": "Email with BCC recipients",
          "request": {
            "to": "recipient@example.com",
            "subject": "Email with BCC",
            "text": "This email has BCC recipients.",
            "bcc": ["bcc1@example.com", "bcc2@example.com"]
          }
        },
        "email_with_cc_and_bcc": {
          "description": "Email with both CC and BCC recipients",
          "request": {
            "to": "recipient@example.com",
            "subject": "Email with CC and BCC",
            "text": "This email has both CC and BCC recipients.",
            "cc": ["cc@example.com"],
            "bcc": ["bcc@example.com"]
          }
        },
        "email_with_attachment_path": {
          "description": "Email with file attachment (using file path)",
          "request": {
            "to": "recipient@example.com",
            "subject": "Email with Attachment",
            "text": "Please find the attached file.",
            "attachments": [
              {
                "filename": "document.pdf",
                "path": "/path/to/document.pdf"
              },
              {
                "filename": "image.png",
                "path": "/path/to/image.png",
                "contentType": "image/png"
              }
            ]
          }
        },
        "email_with_attachment_base64": {
          "description": "Email with file attachment (using base64 content)",
          "request": {
            "to": "recipient@example.com",
            "subject": "Email with Base64 Attachment",
            "text": "Please find the attached file.",
            "attachments": [
              {
                "filename": "document.pdf",
                "content": "base64EncodedContentHere",
                "encoding": "base64",
                "contentType": "application/pdf"
              }
            ]
          }
        },
        "email_with_attachment_buffer": {
          "description": "Email with file attachment (using raw content)",
          "request": {
            "to": "recipient@example.com",
            "subject": "Email with Raw Attachment",
            "text": "Please find the attached file.",
            "attachments": [
              {
                "filename": "data.txt",
                "content": "Raw file content here",
                "contentType": "text/plain"
              }
            ]
          }
        },
        "complete_email_example": {
          "description": "Complete email with all options",
          "request": {
            "to": "recipient@example.com",
            "subject": "Complete Email Example",
            "text": "This is a complete email example with all features.",
            "html": "<html><body><h1>Complete Email Example</h1><p>This is a complete email example with all features.</p></body></html>",
            "from": "sender@example.com",
            "cc": ["cc1@example.com", "cc2@example.com"],
            "bcc": ["bcc@example.com"],
            "attachments": [
              {
                "filename": "report.pdf",
                "path": "/path/to/report.pdf"
              }
            ]
          }
        }
      },
      "response": {
        "success": {
          "status": 200,
          "body": {
            "success": true,
            "message": "Email sent successfully",
            "messageId": "<message-id@example.com>",
            "response": "250 2.0.0 OK"
          }
        },
        "error": {
          "status": 400,
          "body": {
            "success": false,
            "message": "Missing required fields: to, subject, and either text or html are required"
          }
        }
      }
    },
    "GET /api/email/health": {
      "description": "Health check endpoint",
      "method": "GET",
      "requestBody": "None required",
      "response": {
        "status": 200,
        "body": {
          "success": true,
          "message": "Email service is running",
          "timestamp": "2024-01-01T00:00:00.000Z"
        }
      }
    }
  },
  "attachmentFormat": {
    "description": "Attachment object structure for nodemailer",
    "options": {
      "filename": {
        "type": "string",
        "required": true,
        "description": "Name of the file as it will appear in the email"
      },
      "path": {
        "type": "string",
        "required": false,
        "description": "Path to the file on the server (use path OR content, not both)"
      },
      "content": {
        "type": "string | Buffer",
        "required": false,
        "description": "File content as string, Buffer, or base64 encoded string (use path OR content, not both)"
      },
      "encoding": {
        "type": "string",
        "required": false,
        "description": "Encoding of the content (e.g., 'base64')"
      },
      "contentType": {
        "type": "string",
        "required": false,
        "description": "MIME type of the file (e.g., 'application/pdf', 'image/png')"
      },
      "cid": {
        "type": "string",
        "required": false,
        "description": "Content ID for inline images in HTML emails"
      }
    }
  },
  "curlExamples": {
    "send_simple_email": "curl -X POST http://localhost:3000/api/email/send \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"to\": \"recipient@example.com\",\n    \"subject\": \"Hello\",\n    \"text\": \"This is a test email.\"\n  }'",
    "send_html_email": "curl -X POST http://localhost:3000/api/email/send \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"to\": \"recipient@example.com\",\n    \"subject\": \"HTML Email\",\n    \"html\": \"<h1>Hello</h1><p>This is an HTML email.</p>\"\n  }'",
    "verify_connection": "curl -X GET http://localhost:3000/api/email/verify",
    "health_check": "curl -X GET http://localhost:3000/api/email/health"
  },
  "javascriptExamples": {
    "send_email_fetch": "fetch('http://localhost:3000/api/email/send', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    to: 'recipient@example.com',\n    subject: 'Hello from API',\n    text: 'This is a test email sent via API.',\n    html: '<h1>Hello</h1><p>This is a test email sent via API.</p>'\n  })\n})\n  .then(response => response.json())\n  .then(data => console.log('Success:', data))\n  .catch(error => console.error('Error:', error));",
    "send_email_axios": "const axios = require('axios');\n\naxios.post('http://localhost:3000/api/email/send', {\n  to: 'recipient@example.com',\n  subject: 'Hello from API',\n  text: 'This is a test email sent via API.',\n  html: '<h1>Hello</h1><p>This is a test email sent via API.</p>'\n})\n  .then(response => console.log('Success:', response.data))\n  .catch(error => console.error('Error:', error));"
  }
}

